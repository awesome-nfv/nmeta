---
#*** Main Policy for nmeta - Identity Regression Test
#*** Written in YAML
#
# Client (pc1) has it's bandwidth constrained
#
tc_rules:
    # Traffic Classification Rulesets and Rules
    tc_ruleset_1:
        - comment: Constrained Bandwidth Traffic
          match_type: any
          conditions_list:
              - match_type: any
                identity_lldp_systemname_re: 'pc.*\.example\.com'
          actions:
            set_desc: "Constrained Bandwidth Traffic"
            qos_treatment: constrained_bw
#
qos_treatment:
    # Control Quality of Service (QoS) treatment mapping of
    #  names to output queue numbers:
    default_priority: 0
    constrained_bw: 1
    high_priority: 2
    low_priority: 3
#
port_sets:
    # Port Sets control what data plane ports policies and
    #  features are applied on:
    - port_set_location_internal:
        - VirtualSwitch1:
            DPID: 8796748549206
            ports: 1-3,5,66
            vlan_id: 0
#
locations:
    # Locations are logical groupings of ports. Takes first match.
    locations_list:
        - internal:
            - port_set_location_internal
        - external:
            - port_set_location_external
    default_match: external
